---
title: "Assignment 2"
author: "Marco Palombo"
date: "10/25/2021"
output: word_document
editor_options: 
  markdown: 
    wrap: 72
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)

library(tidyverse)
```

# Exercise 1

In winter, a home in Phoenix, AZ, requires 62kWh of heat per day to
remain at a constant indoor temperature of 20°C.

a.  The average daily solar radiation, i.e. the average over a 24-hour
    period, in Phoenix in Winter is 270 W/m2. What is the minimum
    collector surface needed for an all-solar heating system that has an
    overall efficiency of 20%?

```{r}
# part 1b
surface_area <-  62/24/(0.27*0.2)
water_mass <- 62*3.6e6/4184/40



```

$A~=~62~kWh*\frac{1}{24~h}*\frac{m^2}{(0.27~kW*0.2)}~=~$
`r round(surface_area,0)` $m^2$

b.  Water is used as the heat storage medium. How much water is required
    if it is heated from 20°C to 60°C every day

```{r}
total_energy <-  62*3.6e6/4184/40
```

$62~kWh*\frac{3.6e^6~J}{1~kwh}*\frac{kg~K}{4184~J}*\frac{1}{40~K}~=~$
`r round(water_mass,1)` kg

# Exercise 2

a)  An automobile weighing 4409 pounds decelerates from 55mph to 0 m/s
    using mechanical brakes. How much Joules of heat is generated by the
    brakes?

```{r}
velocity <- 55*0.44
mass <- 4409*0.453
```

First convert 55 mph to m/s and 4409 pounds to kg:

$55~mph * \frac{0.44~\frac{m}{s}}{mph}~=$ `r velocity` $\frac{m}{s}$

$4409~lbs \frac{0.453~kg}{1~lbs}~=~$ `r mass` kg

```{r}
kinetic_energy <- mass*velocity^2/2
```

Complete conversion of kinetic energy to heat energy in brakes:

Energy = $\frac{m*v^2}{2}~=~\frac{(1997~kg)*(24.2\frac{m}{s})^2}{2}~=~$ `r round(kinetic_energy / 1000,1)` kJ

b)  Each of the four brake drums has a mass 9kg of iron (specific heat:
    0.11 kcal/kg∙°C). By how much does the temperature of the brake
    drums rise (assuming that each drum absorbs the same amount of
    energy, and no heat is transferred to the air or other vehicle
    parts)?
```{r}
cp <- 0.11*4.184 # J/kgK
temp_change <- 584/4/cp/9

```

Convert specific heat into $\frac{J}{Kg~K}$

 $C_p$ = $0.11\frac{Kcal}{kg~K}*\frac{4.184~kJ}{1~kcal}~=$ `r cp` $\frac{kJ}{kg~K}$

Divide total energy by 4 to account for distribution of energy across 4 brake
systems then divide by thermal mass (mass*heat capacity):

$584~kJ*\frac{1}{4}*\frac{kg~K}{0.46~kJ}*\frac{1}{9~kg}~=~$ `r round(temp_change,1)` K

# Exercise 3

A cylinder contains 1 kg of carbon dioxide, which has a temperature of T
= 293 K (20 ºC) and is at normal atmospheric pressure p = 1 atm or
101,325 N/m2. Assume that the carbon dioxide behaves like an ideal gas.
The molar weight of CO2 is 44 g/mol.

a)  What is the volume V of the carbon dioxide at 293 K and 1 atm?
```{r}
mol_co2 <- 1/0.044 # mol
volume_co2 <- (mol_co2*8.314*293) / 101325
r <- 8.3 # J/mol K
c_v <- 28.2 # J/mol K
t_2 = 293/(exp(r/c_v*log(0.1)))
```

First determine quantity of mols:
$1~kg*\frac{mol}{.044~kg}~=$ `r mol_co2` mol

Use ideal gas law equation: PV=nRT solved for Volume:
$V=\frac{nRT}{P}~=~\frac{(2.27~mol)(8.314\frac{J}{mol~K})(293~K)}{101,325~\frac{N}{m^2}}~=~$ `r round(volume_co2,3)` $m^3$

b)  To what temperature does the carbon dioxide heat up if it is
    adiabatically compressed to a tenth of its original volume?

Apply adiabatic equation:
$C_v * \ln{\frac{T_1}{T_2}}~=~R* \ln{\frac{V_2}{V_1}}$ 

Solve for $T_2$:
$ T_2~=~\frac{T_1}{e^{\frac{R}{C_v}R* \ln{\frac{V_2}{V_1}}}}$ = `r round(t_2,1)` K


# Exercise 4 
A exterior house wall of 20 m2 area consists of a 2.5cm layer of wood and a 10cm layer of glass fiber. What is the heat flow (in cal/s) through this wall if the inside temperature is 18ºC and the outside temperature -21ºC. Hint: Use the following facts: 1) In steady state, the heat flows through the wood and the fiber are equal. 2) The temperature change across the fiber glass and the temperature change across the wood is equal to the total temperature difference between inside and outside.

```{r}
l_w <- .025 # m
l_g <- .10 # m
t_i <- 18 # C
t_o <- -21 # C
alpha_w <- .03 # cal/(s m C)
alpha_g <- .01 # cal/(s m C)
A = 20 #m^2

t_b <- (alpha_g/l_g*t_i + alpha_w/l_w*t_o)/(alpha_w/l_w + alpha_g/l_g)

q_w <-  alpha_w/l_w*A*(t_b-t_o)
q_g <-  alpha_g/l_g*A*(t_i-t_b)

```

Start by enforcing steady state heat flow, defining positive heat transfer as flowing from interior to exterior: 
$$Q_w~=~Q_g$$ 
Rewrite equation above using conductivities and temperature deltas. Include cross sectional area for now, but it will cancel out:
$$ \frac{\alpha_w*A*\Delta T_w}{L_w} = \frac{\alpha_g*A*\Delta T_g}{L_g}  $$
Define variables:

$\alpha_w$: thermal conductivity wood

$\alpha_g$: thermal conductivity glass fiber

$\Delta T_w$: temperature delta across wood layer

$\Delta T_g$: temperature delta across glass fiber layer

$L_w$: thickness of wood

$L_g$:thickness of glass fiber layer

Now define $T_i, T_b, T_o$ as interior temperature, boundary temperature between wood and glass fiber, and outside temperature respectively.Rewrite heat transfer equation with these incorporated:

$\frac{\alpha_w*(T_b~-~T_0)}{L_w} = \frac{\alpha_g*(T_i~-~T_b)}{L_g}$

Solve for $T_b$:

$T_b = \frac{(\frac{\alpha_g} {L_g} T_i + \frac{\alpha_w} {L_w} T_o)}{\frac{\alpha_w} {L_w}+ \frac{\alpha_g} {L_g}}$ = `r round(t_b,1)` C

Now plug this value back into the equation for heat transfer through the wood:

$\frac{\alpha_w*A*(T_b-T_o)}{L_w}$ = `r round(q_w,1)` $\frac{cal}{s}$

Plug in values for glass fiber too for sanity check:

$\frac{\alpha_g*A*(T_i-T_b)}{L_w}$ = `r round(q_w,1)` $\frac{cal}{s}$

# Exercise 5
a) The steam engine of a locomotive delivers 9MW of work and receives 3.6∙109
Joules of heat from its boiler every minute. What is the efficiency of this engine, and how much heat is wasted per minute?

```{r}
pwr_in = 3.6e9/60/1e6 # MW
work = 9 # MW
boiler_effic = work/pwr_in

waste_per_min = pwr_in*(1-boiler_effic)*60
```


Calculate power input:

$P_{in}~=~\frac{2.6e9}{min}*\frac{1~min}{60~sec}$ = 43 MW

Efficiency is ratio of work to input:
$\eta~=~\frac{W}{P_{in}}$ = `r round(boiler_effic,2)` = `r round(boiler_effic,2)*100` %

Waste heat:
Waste heat = $(P_{in}*(1-\eta))*\frac{60~s}{1~min}$ = `r waste_per_min` MJ

b) A fuel cell generates waste heat at 700 °F. A sterling engine utilizes this heat and exhausts its own waste heat into the atmosphere at 65 °F. What is the maximum efficiency (Carnot) that the sterling engine operating between these two temperatures could reach?
```{r}
th = 644.261
tc = 291.483
carnot = (th-tc)/th
```

Plug into carnot efficiency eqn:
$\eta~=~\frac{T_H~-~T_C}{T_H}~=~\frac{644K~-~291K}{644K}$ = `r round(carnot,2)*100` %

# Exercise 6
```{r}
eta_1 = 0.8
eta_2 = 0.25
eta_3 = 0.8

eta_sum <-  eta_3 * (0.2*eta_1 + 0.8*eta_2)
```

Calculate the overall efficiency of the following system of energy conversion devices:

$\eta = \frac{E_{in}}{E_{out}} = \eta_3*(0.2*\eta_1 + 0.8*\eta_2) =$ `r round(eta_sum,2)*100` %

# Esercise 7
First hydrolysis is not particularly efficient, ~0.7 according to the slides, and a fuel cell is also relatively inefficient, ~0.6 per slides, which will put this methodology at a disadvantage relative to a battery electric vehicle.